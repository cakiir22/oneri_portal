<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ã–neri & FotoÄŸraf KÄ±sayol SayfasÄ±</title>
  <meta name="description" content="HÄ±zlÄ± yÃ¶nlendirme: Ã–neri formu ve fotoÄŸraf yÃ¼kleme linki (sayfadan ayrÄ±lmadan modal iÃ§inde)" />
  <style>
    :root{--bg:#0b1220;--card:#0f172a;--muted:#94a3b8;--text:#e6edf3}
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:radial-gradient(1200px 800px at 20% -20%,#12223d 0%,transparent 60%),linear-gradient(180deg,#0b1220,#0b1220);color:var(--text);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
    .wrap{min-height:100%;display:flex;align-items:center;justify-content:center;padding:24px}
    .card{width:100%;max-width:820px;background:linear-gradient(180deg,#0f172a 0%,#0b1220 100%);border:1px solid rgba(148,163,184,.15);border-radius:24px;box-shadow:0 10px 50px rgba(0,0,0,.35);padding:28px}
    .hdr{display:flex;align-items:center;gap:14px}
    .logo{width:44px;height:44px;border-radius:12px;display:grid;place-items:center;background:linear-gradient(135deg,rgba(96,165,250,.25),rgba(52,211,153,.15))}
    h1{font-size:26px;margin:0}
    p{color:var(--muted);line-height:1.55;margin-top:8px}
    .grid{display:grid;grid-template-columns:1fr;gap:16px;margin-top:20px}
    @media (min-width:720px){.grid{grid-template-columns:1fr 1fr}}
    .btn{border:none;border-radius:16px;padding:18px 20px;font-size:18px;font-weight:700;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:10px;transition:.2s transform ease,.2s filter ease;outline:none;color:#e6edf3}
    .btn:active{transform:translateY(1px)}
    .btn-primary{background:linear-gradient(180deg,rgba(96,165,250,.25),rgba(29,78,216,.35));border:1px solid rgba(96,165,250,.5)}
    .btn-success{background:linear-gradient(180deg,rgba(52,211,153,.25),rgba(5,150,105,.35));border:1px solid rgba(52,211,153,.5)}
    .muted{font-size:13px;color:#9fb0c6}

    /* Modal (native <dialog>) */
    dialog{width:min(1100px,96vw);height:min(86vh,900px);border:none;border-radius:16px;padding:0;background:#0b1220}
    dialog::backdrop{background:rgba(0,0,0,.55)}
    .modal-head{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-bottom:1px solid rgba(148,163,184,.2)}
    .modal-title{font-weight:700}
    .modal-actions{display:flex;gap:8px}
    .xbtn{background:#101826;border:1px solid rgba(148,163,184,.25);color:#e6edf3;border-radius:10px;padding:8px 12px;font-weight:700;cursor:pointer}
    .modal-body{height:calc(100% - 54px);}
    .frame{width:100%;height:100%;border:0;border-bottom-left-radius:16px;border-bottom-right-radius:16px;background:#0b1220}
    .fallback{display:none;padding:14px}
    .fallback a{color:#9cd2ff}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="hdr">
        <div class="logo" aria-hidden="true">ğŸ”—</div>
        <div>
          <h1>Ã–neri & FotoÄŸraf KÄ±sayollarÄ±</h1>
          <p>Tek ekrandan iki buton: biri <strong>Ã–neri Formu</strong>, diÄŸeri <strong>FotoÄŸraf YÃ¼kleme</strong>. Ä°kisi de sayfadan ayrÄ±lmadan <em>modal pencerede</em> aÃ§Ä±lÄ±r. (BazÄ± kurumsal gÃ¼venlik ayarlarÄ± gÃ¶mÃ¼lÃ¼ gÃ¶rÃ¼ntÃ¼lemeyi engellerse otomatik "yeni sekme" seÃ§eneÄŸi Ã§Ä±kar.)</p>
        </div>
      </div>

      <div class="grid">
        <button class="btn btn-primary" id="openSuggest">ğŸ“ Ã–neri Formu</button>
        <button class="btn btn-success" id="openUpload">ğŸ“· FotoÄŸraf YÃ¼kle</button>
      </div>

      <p class="muted" style="margin-top:18px">Ayar: AÅŸaÄŸÄ±daki <code>LINK_SUGGEST</code> (Forms) ve <code>LINK_UPLOAD</code> (OneDrive) adreslerini kendi baÄŸlantÄ±larÄ±nla deÄŸiÅŸtir.</p>
    </div>
  </div>

  <!-- Modal: SUGGEST -->
  <dialog id="dlgSuggest">
    <div class="modal-head">
      <div class="modal-title">ğŸ“ Ã–neri Formu</div>
      <div class="modal-actions">
        <button class="xbtn" data-open-new="suggest">Yeni Sekmede AÃ§</button>
        <button class="xbtn" data-close>âœ• Kapat</button>
      </div>
    </div>
    <div class="modal-body">
      <iframe id="frameSuggest" class="frame" referrerpolicy="no-referrer"></iframe>
      <div id="fallbackSuggest" class="fallback">Ä°Ã§erik gÃ¶mÃ¼lÃ¼ aÃ§Ä±lamadÄ±. <a id="aSuggest" target="_blank" rel="noopener">Yeni sekmede aÃ§mak iÃ§in tÄ±klayÄ±n.</a></div>
    </div>
  </dialog>

  <!-- Modal: UPLOAD -->
  <dialog id="dlgUpload">
    <div class="modal-head">
      <div class="modal-title">ğŸ“· FotoÄŸraf YÃ¼kle</div>
      <div class="modal-actions">
        <button class="xbtn" data-open-new="upload">Yeni Sekmede AÃ§</button>
        <button class="xbtn" data-close>âœ• Kapat</button>
      </div>
    </div>
    <div class="modal-body">
      <iframe id="frameUpload" class="frame" referrerpolicy="no-referrer"></iframe>
      <div id="fallbackUpload" class="fallback">Ä°Ã§erik gÃ¶mÃ¼lÃ¼ aÃ§Ä±lamadÄ±. <a id="aUpload" target="_blank" rel="noopener">Yeni sekmede aÃ§mak iÃ§in tÄ±klayÄ±n.</a></div>
    </div>
  </dialog>

<script>
  // ==== ğŸ”§ SADE AYARLAR ====
  const LINK_SUGGEST = "https://forms.office.com/Pages/ResponsePage.aspx?id=vP9DjXqlnk2FBdXxjX6sm29P8ZqIMq5Hh-oV8Qg4EGBUMUFFNTdDSE5GR1VNRFI0WlNOT0JaTk45NC4u"; // Ã–neri formu
  const LINK_UPLOAD  = "https://eczacibasi-my.sharepoint.com/:f:/g/personal/emirhan_cakir_vitra_com_tr/ElR-CIOuCK1KuvMb4sjEL1IBaJ5WQElt1kn8xARkmcVAPg"; // FotoÄŸraf yÃ¼kleme linki (Embed engellenirse yeni sekmeye dÃ¼ÅŸer)

  const $ = (s)=>document.querySelector(s);

  function openModal(which){
    // OneDrive Ã§oÄŸu durumda X-Frame-Options/CSP ile iframe'e izin vermez.
    // Bu nedenle 'upload' iÃ§in doÄŸrudan yeni sekme aÃ§Ä±yoruz.
    if(which==='upload'){
      window.open(LINK_UPLOAD,'_blank','noopener');
      return;
    }

    const dlg   = $('#dlgSuggest');
    const frame = $('#frameSuggest');
    const url   = LINK_SUGGEST;
    const fb    = $('#fallbackSuggest');
    const abtn  = $('#aSuggest');

    fb.style.display = 'none';
    frame.style.display = 'block';
    frame.src = url + (url.includes('?') ? '&' : '?') + 'embed=true';
    abtn.href = url;

    const timer = setTimeout(()=>{
      frame.style.display = 'none';
      fb.style.display = 'block';
    }, 2500);

    frame.onload = ()=> clearTimeout(timer);

    if(typeof dlg.showModal === 'function') dlg.showModal(); else dlg.setAttribute('open','');
  }, 2500);

    frame.onload = ()=> clearTimeout(timer);

    if(typeof dlg.showModal === 'function') dlg.showModal(); else dlg.setAttribute('open','');
  }

  function closeModal(el){
    const dlg = el.closest('dialog');
    if(typeof dlg.close === 'function') dlg.close(); else dlg.removeAttribute('open');
  }

  // AÃ§/Kapat/Yeni sekme olaylarÄ±
  $('#openSuggest').addEventListener('click', ()=> openModal('suggest'));
  $('#openUpload').addEventListener('click',  ()=> openModal('upload'));

  document.querySelectorAll('[data-close]').forEach(btn=>btn.addEventListener('click', e=> closeModal(e.target)));
  document.querySelectorAll('[data-open-new]').forEach(btn=>btn.addEventListener('click', e=>{
    const t = e.target.getAttribute('data-open-new');
    const url = t==='suggest' ? LINK_SUGGEST : LINK_UPLOAD;
    window.open(url,'_blank','noopener');
  }));
</script>
</body>
</html>
